<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeNOS: kernel/Kernel.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeNOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Kernel.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Kernel_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2015 Niek Linnenbank</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;FreeNOS/System.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">Log.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ListIterator_8h.html">ListIterator.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SplitAllocator_8h.html">SplitAllocator.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="BubbleAllocator_8h.html">BubbleAllocator.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PoolAllocator_8h.html">PoolAllocator.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="IntController_8h.html">IntController.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="BootImage_8h.html">BootImage.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="CoreInfo_8h.html">CoreInfo.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Kernel_8h.html">Kernel.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Memory_8h.html">Memory.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Process_8h.html">Process.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ProcessManager_8h.html">ProcessManager.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Scheduler_8h.html">Scheduler.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classKernel.html#a08977b2db778fd684fc7b74383552ed8">   33</a></span>&#160;<a class="code" href="classKernel.html#a08977b2db778fd684fc7b74383552ed8">Kernel::Kernel</a>(<a class="code" href="structCoreInfo.html">CoreInfo</a> *info)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    : <a class="code" href="classSingleton.html">Singleton</a>&lt;<a class="code" href="classKernel.html">Kernel</a>&gt;(this), m_interrupts(256)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// Output log banners</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__libstd.html#ga3cc9f75a4350fdc67815ef4e639478f1">Log::instance</a>)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="group__libstd.html#ga3cc9f75a4350fdc67815ef4e639478f1">Log::instance</a>-&gt;<a class="code" href="classLog.html#ad648c7b0e7c3ec17977af1f907f43bb7">append</a>(<a class="code" href="group__terminal.html#ga46c1fb0f4185dc45eda625530bc0fd73">BANNER</a>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="group__libstd.html#ga3cc9f75a4350fdc67815ef4e639478f1">Log::instance</a>-&gt;<a class="code" href="classLog.html#ad648c7b0e7c3ec17977af1f907f43bb7">append</a>(COPYRIGHT <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// Compute lower &amp; higher memory</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="structMemory_1_1Range.html">Memory::Range</a> highMem;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classARMMap.html">Arch::MemoryMap</a> map;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classMemoryBlock.html#a63ed3a49d4476f324652d874718e6760">MemoryBlock::set</a>(&amp;highMem, 0, <span class="keyword">sizeof</span>(highMem));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    highMem.<a class="code" href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">phys</a> = info-&gt;<a class="code" href="structCoreInfo.html#a785d7a727ea7be35204110a1982aa939">memory</a>.<a class="code" href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">phys</a> + map.<a class="code" href="classMemoryMap.html#ae4936d78ee8d255b231cd2114f434756">range</a>(<a class="code" href="classMemoryMap.html#a04c4d394a44ab31533f6dcd617655dcaaed306e4282e45244acb4c7b700655ec9">MemoryMap::KernelData</a>).<a class="code" href="structMemory_1_1Range.html#a19236f2534b55a165e2bea1fe47a4ca0">size</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// Initialize members</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>  = <span class="keyword">new</span> <a class="code" href="classSplitAllocator.html">SplitAllocator</a>(info-&gt;<a class="code" href="structCoreInfo.html#a785d7a727ea7be35204110a1982aa939">memory</a>, highMem);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>  = <span class="keyword">new</span> <a class="code" href="classProcessManager.html">ProcessManager</a>(<span class="keyword">new</span> <a class="code" href="classScheduler.html">Scheduler</a>());</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classKernel.html#a09db741df694d6bec39a02c2e5f11487">m_api</a>    = <span class="keyword">new</span> <a class="code" href="classAPI.html">API</a>();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>   = info;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classKernel.html#a669606a1c100613706160682a26b691b">m_intControl</a> = <a class="code" href="group__libstd.html#gac328e551bde3d39b6d7b8cc9e048d941">ZERO</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classKernel.html#a97b5ae941619bc5d09549946672a1557">m_timer</a>      = <a class="code" href="group__libstd.html#gac328e551bde3d39b6d7b8cc9e048d941">ZERO</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// Mark kernel memory used (first 4MB in phys memory)</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; info-&gt;<a class="code" href="structCoreInfo.html#a29fc737d56e6f7863c3838006c337868">kernel</a>.<a class="code" href="structMemory_1_1Range.html#a19236f2534b55a165e2bea1fe47a4ca0">size</a>; i += <a class="code" href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a>)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ae6660e84ec88e5cc88910fed6957f1f9">allocate</a>(info-&gt;<a class="code" href="structCoreInfo.html#a29fc737d56e6f7863c3838006c337868">kernel</a>.<a class="code" href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">phys</a> + i);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// Mark BootImage memory used</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a255a367958a7401d2b88551a568d656b">bootImageSize</a>; i += <a class="code" href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ae6660e84ec88e5cc88910fed6957f1f9">allocate</a>(<a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a6f4e2740e2f160dbcd3f718bb3be260d">bootImageAddress</a> + i);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Mark heap memory used</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a7c05de683765210331e4b0b2874aacd4">heapSize</a>; i += <a class="code" href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a>)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ae6660e84ec88e5cc88910fed6957f1f9">allocate</a>(<a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a9fa28289b38010e1f0e26f5af7d4c336">heapAddress</a> + i);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Reserve CoreChannel memory</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a579636f38b14eb62e18ed93a44a616e0">coreChannelSize</a>; i += <a class="code" href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a>)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ae6660e84ec88e5cc88910fed6957f1f9">allocate</a>(<a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a5a0924340090ed02faf5c8732484e4f0">coreChannelAddress</a> + i);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Clear interrupts table</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>.<a class="code" href="classSequence.html#a64cef21d0f993c945f68033e21723de1">fill</a>(<a class="code" href="group__libstd.html#gac328e551bde3d39b6d7b8cc9e048d941">ZERO</a>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classKernel.html#ad6d673e62a5c32e4c5723f4ba6604131">   77</a></span>&#160;<a class="code" href="group__libstd.html#ga32561b1ad57f66e2ca93b07d45e9a9ee">Error</a> <a class="code" href="classKernel.html#ad6d673e62a5c32e4c5723f4ba6604131">Kernel::heap</a>(<a class="code" href="group__libstd.html#ga153192b394630b5bbd32e3a430673674">Address</a> base, <a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> size)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classAllocator.html">Allocator</a> *bubble, *pool;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> meta = <span class="keyword">sizeof</span>(<a class="code" href="classBubbleAllocator.html">BubbleAllocator</a>) + <span class="keyword">sizeof</span>(<a class="code" href="classPoolAllocator.html">PoolAllocator</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// Clear the heap first</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classMemoryBlock.html#a63ed3a49d4476f324652d874718e6760">MemoryBlock::set</a>((<span class="keywordtype">void</span> *) base, 0, size);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Setup the dynamic memory heap</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    bubble = <span class="keyword">new</span> (base) <a class="code" href="classBubbleAllocator.html">BubbleAllocator</a>(base + meta, size - meta);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    pool   = <span class="keyword">new</span> (base + <span class="keyword">sizeof</span>(<a class="code" href="classBubbleAllocator.html">BubbleAllocator</a>)) <a class="code" href="classPoolAllocator.html">PoolAllocator</a>();</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    pool-&gt;<a class="code" href="classAllocator.html#adb8b5faa382b82689b08f74ce1edb7e3">setParent</a>(bubble);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Set default allocator</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classAllocator.html#a61a9ebd69725ae45e57223a4fdf5b680">Allocator::setDefault</a>(pool);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classKernel.html#a237657efb26f12a29bbf61d9a979bc45">   95</a></span>&#160;<a class="code" href="classSplitAllocator.html">SplitAllocator</a> * <a class="code" href="classKernel.html#a237657efb26f12a29bbf61d9a979bc45">Kernel::getAllocator</a>()</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classKernel.html#aa6a6fcae1a415d0cecae4520d3af7ac3">  100</a></span>&#160;<a class="code" href="classProcessManager.html">ProcessManager</a> * <a class="code" href="classKernel.html#aa6a6fcae1a415d0cecae4520d3af7ac3">Kernel::getProcessManager</a>()</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classKernel.html#a60f25a78fe3c9615bb0e1d86bd7cde09">  105</a></span>&#160;<a class="code" href="classAPI.html">API</a> * <a class="code" href="classKernel.html#a60f25a78fe3c9615bb0e1d86bd7cde09">Kernel::getAPI</a>()</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a09db741df694d6bec39a02c2e5f11487">m_api</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classKernel.html#ab20dc5918c6bd0da75d08ab96c93f102">  110</a></span>&#160;<a class="code" href="classMemoryContext.html">MemoryContext</a> * <a class="code" href="classKernel.html#ab20dc5918c6bd0da75d08ab96c93f102">Kernel::getMemoryContext</a>()</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>-&gt;<a class="code" href="classProcessManager.html#af9d82c4029f1ce9e0b82f5e88ee4ad8d">current</a>()-&gt;<a class="code" href="classProcess.html#a95edf75b28fd5f0dd6468695fbc704e1">getMemoryContext</a>();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classKernel.html#a1252236285654841a16d3c18350ed7f8">  115</a></span>&#160;<a class="code" href="structCoreInfo.html">CoreInfo</a> * <a class="code" href="classKernel.html#a1252236285654841a16d3c18350ed7f8">Kernel::getCoreInfo</a>()</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classKernel.html#a432e4c0c70d855ebcab4aff597619cb2">  120</a></span>&#160;<a class="code" href="classTimer.html">Timer</a> * <a class="code" href="classKernel.html#a432e4c0c70d855ebcab4aff597619cb2">Kernel::getTimer</a>()</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#a97b5ae941619bc5d09549946672a1557">m_timer</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classKernel.html#a78150ddbf611c5315beffade433d97f5">  125</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKernel.html#a78150ddbf611c5315beffade433d97f5">Kernel::enableIRQ</a>(<a class="code" href="group__libstd.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a> irq, <span class="keywordtype">bool</span> enabled)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classKernel.html#a669606a1c100613706160682a26b691b">m_intControl</a>)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span> (enabled)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <a class="code" href="classKernel.html#a669606a1c100613706160682a26b691b">m_intControl</a>-&gt;<a class="code" href="classIntController.html#af38bce3abca853e6ff728bbd3fc17b68">enable</a>(irq);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="classKernel.html#a669606a1c100613706160682a26b691b">m_intControl</a>-&gt;<a class="code" href="classIntController.html#a4b6f8810ed57e31ab1b3dc823f6ca5cd">disable</a>(irq);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classKernel.html#a623b3d0e5c29fc9cdc33cf58f3c1cf32">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKernel.html#a623b3d0e5c29fc9cdc33cf58f3c1cf32">Kernel::hookIntVector</a>(<a class="code" href="group__libstd.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a> vec, <a class="code" href="group__kernel.html#ga8cbb2407800cf58266ca752e666d8fb3">InterruptHandler</a> h, <a class="code" href="group__libstd.html#ga718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> p)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="structInterruptHook.html">InterruptHook</a> hook(h, p);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// Insert into interrupts; create List if neccesary</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>[vec])</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>.<a class="code" href="classVector.html#ab799ad03fc3659650ae44574b7e37885">insert</a>(vec, <span class="keyword">new</span> <a class="code" href="classList.html">List&lt;InterruptHook *&gt;</a>());</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Just append it. */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>[vec]-&gt;contains(&amp;hook))</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>[vec]-&gt;append(<span class="keyword">new</span> <a class="code" href="group__kernel.html#gaed0515392750015eaafdc984bb0a8917">InterruptHook</a>(h, p));</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classKernel.html#a62405a9c7e735fd951aea24c7e4ce29c">  152</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKernel.html#a62405a9c7e735fd951aea24c7e4ce29c">Kernel::executeIntVector</a>(<a class="code" href="group__libstd.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a> vec, <a class="code" href="structCPUState.html">CPUState</a> *state)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// Auto-Mask the IRQ. Any interrupt handler or user program</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// needs to re-enable the IRQ to receive it again. This prevents</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// interrupt loops in case the kernel cannot clear the IRQ immediately.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classKernel.html#a78150ddbf611c5315beffade433d97f5">enableIRQ</a>(vec, <span class="keyword">false</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Fetch the list of interrupt hooks (for this vector)</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classList.html">List&lt;InterruptHook *&gt;</a> *lst = <a class="code" href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">m_interrupts</a>[vec];</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// Does at least one handler exist?</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (!lst)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// Execute them all</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classListIterator.html">ListIterator&lt;InterruptHook *&gt;</a> i(lst); i.<a class="code" href="classListIterator.html#a6750d850524a46222fff4d24d1479f4c">hasCurrent</a>(); i++)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        i.current()-&gt;handler(state, i.current()-&gt;param);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classKernel.html#af5b499fd5af02cfa6dafd4509ef8277d">  173</a></span>&#160;<a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7">Kernel::Result</a> <a class="code" href="classKernel.html#af5b499fd5af02cfa6dafd4509ef8277d">Kernel::loadBootImage</a>()</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="structBootImage.html">BootImage</a> *image = (<a class="code" href="structBootImage.html">BootImage</a> *) (<a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ac26bd64d1997696dfd29d9c9d8deada4">toVirtual</a>(<a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a6f4e2740e2f160dbcd3f718bb3be260d">bootImageAddress</a>));</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__libstd.html#ga59535c7836d89bbdcbe1e5186f2d4679">NOTICE</a>(<span class="stringliteral">&quot;bootimage: &quot;</span> &lt;&lt; (<span class="keywordtype">void</span> *) image &lt;&lt;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;           <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span>) <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a255a367958a7401d2b88551a568d656b">bootImageSize</a> &lt;&lt; <span class="stringliteral">&quot; bytes)&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// Verify this is a correct BootImage</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (image-&gt;<a class="code" href="structBootImage.html#a0614ef5d4e0520e3665e3ed4ea20a199">magic</a>[0] == <a class="code" href="group__libarch.html#ga7c5a1fce9aabfb7a150b4cb8059fd96a">BOOTIMAGE_MAGIC0</a> &amp;&amp;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        image-&gt;<a class="code" href="structBootImage.html#a0614ef5d4e0520e3665e3ed4ea20a199">magic</a>[1] == <a class="code" href="group__libarch.html#gaa3ada043554743ff0fb5435f17549ec0">BOOTIMAGE_MAGIC1</a> &amp;&amp;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        image-&gt;<a class="code" href="structBootImage.html#aeccbe9aba1be5f7ffbe3451573fe3018">layoutRevision</a> == <a class="code" href="group__libarch.html#ga8401d03a3d9d1c16e11348c9eea99005">BOOTIMAGE_REVISION</a>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="comment">// Loop BootPrograms</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; image-&gt;<a class="code" href="structBootImage.html#a19657d28c2d2a121ea7a27edb0fb899c">symbolTableCount</a>; i++)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <a class="code" href="classKernel.html#aa3e77cb22b74ec2ea462553f76394e29">loadBootProcess</a>(image, <a class="code" href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">m_coreInfo</a>-&gt;<a class="code" href="structCoreInfo.html#a6f4e2740e2f160dbcd3f718bb3be260d">bootImageAddress</a>, i);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7a984e82ec9f9e9099fcdcf72a99819c35">Success</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="group__libstd.html#ga435175024ad996b2a45d734fa9eea0e3">ERROR</a>(<span class="stringliteral">&quot;invalid boot image signature: &quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span>) image-&gt;<a class="code" href="structBootImage.html#a0614ef5d4e0520e3665e3ed4ea20a199">magic</a>[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span>) image-&gt;<a class="code" href="structBootImage.html#a0614ef5d4e0520e3665e3ed4ea20a199">magic</a>[1]);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7aa3bebb128f0a95696534cec14de793ab">InvalidBootImage</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classKernel.html#aa3e77cb22b74ec2ea462553f76394e29">  195</a></span>&#160;<a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7">Kernel::Result</a> <a class="code" href="classKernel.html#aa3e77cb22b74ec2ea462553f76394e29">Kernel::loadBootProcess</a>(<a class="code" href="structBootImage.html">BootImage</a> *image, <a class="code" href="group__libstd.html#ga153192b394630b5bbd32e3a430673674">Address</a> imagePAddr, <a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> index)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="group__libstd.html#ga153192b394630b5bbd32e3a430673674">Address</a> imageVAddr = (<a class="code" href="group__libstd.html#ga153192b394630b5bbd32e3a430673674">Address</a>) image;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="structBootSymbol.html">BootSymbol</a> *program;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="structBootSegment.html">BootSegment</a> *segment;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classProcess.html">Process</a> *proc;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">char</span> *vaddr;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classARMMap.html">Arch::MemoryMap</a> map;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="structMemory_1_1Range.html">Memory::Range</a> argRange = map.<a class="code" href="classMemoryMap.html#ae4936d78ee8d255b231cd2114f434756">range</a>(<a class="code" href="classMemoryMap.html#a04c4d394a44ab31533f6dcd617655dcaa307b84d1752e92fb20d9929e8ecb013e">MemoryMap::UserArgs</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// Point to the program and segments table</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    program = &amp;((<a class="code" href="structBootSymbol.html">BootSymbol</a> *) (imageVAddr + image-&gt;<a class="code" href="structBootImage.html#a970a5387a8172d15157c1d0e1674a079">symbolTableOffset</a>))[index];</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    segment = &amp;((<a class="code" href="structBootSegment.html">BootSegment</a> *) (imageVAddr + image-&gt;<a class="code" href="structBootImage.html#a7988a461e4b76359789c34e237896b40">segmentsTableOffset</a>))[program-&gt;<a class="code" href="structBootSymbol.html#af1aac0c5517cd571b1fb371ae859e980">segmentsOffset</a>];</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// Ignore non-BootProgram entries</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    if (program-&gt;<a class="code" href="structBootSymbol.html#af2456949f04fdf60194b6d0dca407d22">type</a> != <a class="code" href="group__libarch.html#ggaef611f2404cc464b0d28d631339723aca6e0c9de8acc781f995b07e95da23c64c">BootProgram</a>)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7aa3bebb128f0a95696534cec14de793ab">InvalidBootImage</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Create process</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    proc = <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>-&gt;<a class="code" href="classProcessManager.html#a0ef7841c21b18edd2e557ed728b9ff14">create</a>(program-&gt;<a class="code" href="structBootSymbol.html#ac7ebcb45a229acfbc9adedef90f1061e">entry</a>, map);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (!proc)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="group__libstd.html#ga7a3e1d362790a375466c5e77a6d5c9c5">FATAL</a>(<span class="stringliteral">&quot;failed to create boot program: &quot;</span> &lt;&lt; program-&gt;<a class="code" href="structBootSymbol.html#af4fcc5feb35d57d3fa09d7a0f230d353">name</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7a837f0a8f88cd738379c266a39acefae4">ProcessError</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    proc-&gt;<a class="code" href="classProcess.html#a9ec902ec6a2f5ce894538d0fd0436c3f">setState</a>(<a class="code" href="classProcess.html#a29199d5fd3060da8da03649f06127847a8743d0b3330411414ec8e44e79a845e8">Process::Ready</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// Obtain process memory</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="classMemoryContext.html">MemoryContext</a> *mem = proc-&gt;<a class="code" href="classProcess.html#a95edf75b28fd5f0dd6468695fbc704e1">getMemoryContext</a>();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// Map program segment into it&#39;s virtual memory</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> i = 0; i &lt; program-&gt;<a class="code" href="structBootSymbol.html#a8af22d1f6d548131fb7243a285b32f07">segmentsCount</a>; i++)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a> j = 0; j &lt; segment[i].<a class="code" href="structBootSegment.html#a119582f8d7b3502e8b82429781ba4191">size</a>; j += <a class="code" href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a>)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            mem-&gt;<a class="code" href="classMemoryContext.html#a7b1ac5af46e2d63afea258bf28c55115">map</a>(segment[i].virtualAddress + j,</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                     imagePAddr + segment[i].offset + j,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                     <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa46a4cecf036ff38ce2c054b9c5f9f892">Memory::User</a>     |</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                     <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa5030c23c172ad421d1f2a15f6d3d3d10">Memory::Readable</a> |</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                     <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9faf3346d7304bee3642a259b61e3a9c803">Memory::Writable</a> |</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                     <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa13293028080d38402777a92a5d651977">Memory::Executable</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// Map program arguments into the process</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    argRange.<a class="code" href="structMemory_1_1Range.html#afe4dfe07d2deefc428fca77749b3e60e">access</a> = <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa46a4cecf036ff38ce2c054b9c5f9f892">Memory::User</a> | <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa5030c23c172ad421d1f2a15f6d3d3d10">Memory::Readable</a> | <a class="code" href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9faf3346d7304bee3642a259b61e3a9c803">Memory::Writable</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ac854862ab9204ba2994aca7e1ebf163d">allocateLow</a>(argRange.<a class="code" href="structMemory_1_1Range.html#a19236f2534b55a165e2bea1fe47a4ca0">size</a>, &amp;argRange.<a class="code" href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">phys</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    mem-&gt;<a class="code" href="classMemoryContext.html#a314f86fc54c4ee24f1d785e3b9eda0fe">mapRange</a>(&amp;argRange);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// Copy program arguments</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    vaddr = (<span class="keywordtype">char</span> *) <a class="code" href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">m_alloc</a>-&gt;<a class="code" href="classSplitAllocator.html#ac26bd64d1997696dfd29d9c9d8deada4">toVirtual</a>(argRange.<a class="code" href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">phys</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classMemoryBlock.html#a63ed3a49d4476f324652d874718e6760">MemoryBlock::set</a>(vaddr, 0, argRange.<a class="code" href="structMemory_1_1Range.html#a19236f2534b55a165e2bea1fe47a4ca0">size</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classMemoryBlock.html#a7ba5b909f6a995a9e28d1e1894cacc4d">MemoryBlock::copy</a>(vaddr, program-&gt;<a class="code" href="structBootSymbol.html#af4fcc5feb35d57d3fa09d7a0f230d353">name</a>, <a class="code" href="group__libarch.html#ga38e46d4654222f810c7743a7a49f4625">BOOTIMAGE_NAMELEN</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// Done</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="group__libstd.html#ga59535c7836d89bbdcbe1e5186f2d4679">NOTICE</a>(<span class="stringliteral">&quot;loaded: &quot;</span> &lt;&lt; program-&gt;<a class="code" href="structBootSymbol.html#af4fcc5feb35d57d3fa09d7a0f230d353">name</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7a984e82ec9f9e9099fcdcf72a99819c35">Success</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classKernel.html#a90b12218b75011bc6b22d345d9f2a34b">  253</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classKernel.html#a90b12218b75011bc6b22d345d9f2a34b">Kernel::run</a>()</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="group__libstd.html#ga59535c7836d89bbdcbe1e5186f2d4679">NOTICE</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Load boot image programs</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classKernel.html#af5b499fd5af02cfa6dafd4509ef8277d">loadBootImage</a>();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// Start the scheduler</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>-&gt;<a class="code" href="classProcessManager.html#a47889fb808a5bc327456a46e07e28aff">getScheduler</a>()-&gt;<a class="code" href="classScheduler.html#ab3658ccd83cc5a90835bc65fc3244e3e">setTimer</a>(<a class="code" href="classKernel.html#a97b5ae941619bc5d09549946672a1557">m_timer</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classKernel.html#a853470e9f8f8824792e80e2278277be9">m_procs</a>-&gt;<a class="code" href="classProcessManager.html#a9ec8ab3db50af16139ac564462fd8113">schedule</a>();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Never actually returns.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="classKernel_html_a1252236285654841a16d3c18350ed7f8"><div class="ttname"><a href="classKernel.html#a1252236285654841a16d3c18350ed7f8">Kernel::getCoreInfo</a></div><div class="ttdeci">CoreInfo * getCoreInfo()</div><div class="ttdoc">Get CoreInfo. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00115">Kernel.cpp:115</a></div></div>
<div class="ttc" id="group__libarch_html_ga8401d03a3d9d1c16e11348c9eea99005"><div class="ttname"><a href="group__libarch.html#ga8401d03a3d9d1c16e11348c9eea99005">BOOTIMAGE_REVISION</a></div><div class="ttdeci">#define BOOTIMAGE_REVISION</div><div class="ttdoc">Version of the boot image layout. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00036">BootImage.h:36</a></div></div>
<div class="ttc" id="structCoreInfo_html_a5a0924340090ed02faf5c8732484e4f0"><div class="ttname"><a href="structCoreInfo.html#a5a0924340090ed02faf5c8732484e4f0">CoreInfo::coreChannelAddress</a></div><div class="ttdeci">Address coreChannelAddress</div><div class="ttdoc">Physical memory address of IPC channel for CoreServer of this core. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00087">CoreInfo.h:87</a></div></div>
<div class="ttc" id="group__libstd_html_ga3cc9f75a4350fdc67815ef4e639478f1"><div class="ttname"><a href="group__libstd.html#ga3cc9f75a4350fdc67815ef4e639478f1">Singleton&lt; Log &gt;::instance</a></div><div class="ttdeci">static Log * instance</div><div class="ttdoc">One and only instance. </div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00049">Singleton.h:49</a></div></div>
<div class="ttc" id="classKernel_html_a432e4c0c70d855ebcab4aff597619cb2"><div class="ttname"><a href="classKernel.html#a432e4c0c70d855ebcab4aff597619cb2">Kernel::getTimer</a></div><div class="ttdeci">Timer * getTimer()</div><div class="ttdoc">Get Timer. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00120">Kernel.cpp:120</a></div></div>
<div class="ttc" id="classKernel_html_ab20dc5918c6bd0da75d08ab96c93f102"><div class="ttname"><a href="classKernel.html#ab20dc5918c6bd0da75d08ab96c93f102">Kernel::getMemoryContext</a></div><div class="ttdeci">MemoryContext * getMemoryContext()</div><div class="ttdoc">Get the current MMU context. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00110">Kernel.cpp:110</a></div></div>
<div class="ttc" id="group__libstd_html_ga59535c7836d89bbdcbe1e5186f2d4679"><div class="ttname"><a href="group__libstd.html#ga59535c7836d89bbdcbe1e5186f2d4679">NOTICE</a></div><div class="ttdeci">#define NOTICE(msg)</div><div class="ttdoc">Output a notice message. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00072">Log.h:72</a></div></div>
<div class="ttc" id="classScheduler_html"><div class="ttname"><a href="classScheduler.html">Scheduler</a></div><div class="ttdoc">Responsible for deciding which Process may execute on the CPU(s). </div><div class="ttdef"><b>Definition:</b> <a href="Scheduler_8h_source.html#l00036">Scheduler.h:36</a></div></div>
<div class="ttc" id="structInterruptHook_html"><div class="ttname"><a href="structInterruptHook.html">InterruptHook</a></div><div class="ttdoc">Interrupt hook class. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00053">Kernel.h:53</a></div></div>
<div class="ttc" id="classKernel_html_a2048e021cd5563a4a68b70813f6eb808"><div class="ttname"><a href="classKernel.html#a2048e021cd5563a4a68b70813f6eb808">Kernel::m_interrupts</a></div><div class="ttdeci">Vector&lt; List&lt; InterruptHook * &gt; * &gt; m_interrupts</div><div class="ttdoc">Interrupt handlers. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00223">Kernel.h:223</a></div></div>
<div class="ttc" id="structCoreInfo_html_a29fc737d56e6f7863c3838006c337868"><div class="ttname"><a href="structCoreInfo.html#a29fc737d56e6f7863c3838006c337868">CoreInfo::kernel</a></div><div class="ttdeci">Memory::Range kernel</div><div class="ttdoc">Kernel memory range. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00075">CoreInfo.h:75</a></div></div>
<div class="ttc" id="structBootSymbol_html_af1aac0c5517cd571b1fb371ae859e980"><div class="ttname"><a href="structBootSymbol.html#af1aac0c5517cd571b1fb371ae859e980">BootSymbol::segmentsOffset</a></div><div class="ttdeci">u32 segmentsOffset</div><div class="ttdoc">Offset in the segments table. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00095">BootImage.h:95</a></div></div>
<div class="ttc" id="classKernel_html_a60f25a78fe3c9615bb0e1d86bd7cde09"><div class="ttname"><a href="classKernel.html#a60f25a78fe3c9615bb0e1d86bd7cde09">Kernel::getAPI</a></div><div class="ttdeci">API * getAPI()</div><div class="ttdoc">Get API. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00105">Kernel.cpp:105</a></div></div>
<div class="ttc" id="group__libstd_html_ga153192b394630b5bbd32e3a430673674"><div class="ttname"><a href="group__libstd.html#ga153192b394630b5bbd32e3a430673674">Address</a></div><div class="ttdeci">unsigned long Address</div><div class="ttdoc">A memory address. </div><div class="ttdef"><b>Definition:</b> <a href="Types_8h_source.html#l00131">Types.h:131</a></div></div>
<div class="ttc" id="classKernel_html_a09db741df694d6bec39a02c2e5f11487"><div class="ttname"><a href="classKernel.html#a09db741df694d6bec39a02c2e5f11487">Kernel::m_api</a></div><div class="ttdeci">API * m_api</div><div class="ttdoc">API handlers object. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00217">Kernel.h:217</a></div></div>
<div class="ttc" id="classLog_html_ad648c7b0e7c3ec17977af1f907f43bb7"><div class="ttname"><a href="classLog.html#ad648c7b0e7c3ec17977af1f907f43bb7">Log::append</a></div><div class="ttdeci">void append(const char *str)</div><div class="ttdoc">Append to buffered output. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8cpp_source.html#l00050">Log.cpp:50</a></div></div>
<div class="ttc" id="classKernel_html_a669606a1c100613706160682a26b691b"><div class="ttname"><a href="classKernel.html#a669606a1c100613706160682a26b691b">Kernel::m_intControl</a></div><div class="ttdeci">IntController * m_intControl</div><div class="ttdoc">Interrupt Controller. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00226">Kernel.h:226</a></div></div>
<div class="ttc" id="classAllocator_html"><div class="ttname"><a href="classAllocator.html">Allocator</a></div><div class="ttdoc">Memory Allocator. </div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00046">Allocator.h:46</a></div></div>
<div class="ttc" id="PoolAllocator_8h_html"><div class="ttname"><a href="PoolAllocator_8h.html">PoolAllocator.h</a></div></div>
<div class="ttc" id="structBootSymbol_html_af2456949f04fdf60194b6d0dca407d22"><div class="ttname"><a href="structBootSymbol.html#af2456949f04fdf60194b6d0dca407d22">BootSymbol::type</a></div><div class="ttdeci">BootSymbolType type</div><div class="ttdoc">Type of boot symbol. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00089">BootImage.h:89</a></div></div>
<div class="ttc" id="BootImage_8h_html"><div class="ttname"><a href="BootImage_8h.html">BootImage.h</a></div></div>
<div class="ttc" id="ListIterator_8h_html"><div class="ttname"><a href="ListIterator_8h.html">ListIterator.h</a></div></div>
<div class="ttc" id="group__libarch_html_ga38e46d4654222f810c7743a7a49f4625"><div class="ttname"><a href="group__libarch.html#ga38e46d4654222f810c7743a7a49f4625">BOOTIMAGE_NAMELEN</a></div><div class="ttdeci">#define BOOTIMAGE_NAMELEN</div><div class="ttdoc">Maximum length of BootSymbol names. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00039">BootImage.h:39</a></div></div>
<div class="ttc" id="classMemoryBlock_html_a7ba5b909f6a995a9e28d1e1894cacc4d"><div class="ttname"><a href="classMemoryBlock.html#a7ba5b909f6a995a9e28d1e1894cacc4d">MemoryBlock::copy</a></div><div class="ttdeci">static Size copy(void *dest, const void *src, Size count)</div><div class="ttdoc">Copy memory from one place to another. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryBlock_8cpp_source.html#l00032">MemoryBlock.cpp:32</a></div></div>
<div class="ttc" id="structBootSegment_html"><div class="ttname"><a href="structBootSegment.html">BootSegment</a></div><div class="ttdoc">Memory segment. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00108">BootImage.h:108</a></div></div>
<div class="ttc" id="Kernel_8h_html"><div class="ttname"><a href="Kernel_8h.html">Kernel.h</a></div></div>
<div class="ttc" id="classMemoryContext_html"><div class="ttname"><a href="classMemoryContext.html">MemoryContext</a></div><div class="ttdoc">Virtual memory abstract interface. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryContext_8h_source.html#l00041">MemoryContext.h:41</a></div></div>
<div class="ttc" id="Memory_8h_html"><div class="ttname"><a href="Memory_8h.html">Memory.h</a></div></div>
<div class="ttc" id="classMemoryMap_html_a04c4d394a44ab31533f6dcd617655dcaaed306e4282e45244acb4c7b700655ec9"><div class="ttname"><a href="classMemoryMap.html#a04c4d394a44ab31533f6dcd617655dcaaed306e4282e45244acb4c7b700655ec9">MemoryMap::KernelData</a></div><div class="ttdoc">&lt; Kernel program data from libexec, e.g. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryMap_8h_source.html#l00052">MemoryMap.h:52</a></div></div>
<div class="ttc" id="classKernel_html_a97b5ae941619bc5d09549946672a1557"><div class="ttname"><a href="classKernel.html#a97b5ae941619bc5d09549946672a1557">Kernel::m_timer</a></div><div class="ttdeci">Timer * m_timer</div><div class="ttdoc">Timer device. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00229">Kernel.h:229</a></div></div>
<div class="ttc" id="group__libarch_html_ga7c5a1fce9aabfb7a150b4cb8059fd96a"><div class="ttname"><a href="group__libarch.html#ga7c5a1fce9aabfb7a150b4cb8059fd96a">BOOTIMAGE_MAGIC0</a></div><div class="ttdeci">#define BOOTIMAGE_MAGIC0</div><div class="ttdoc">First magic byte. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00030">BootImage.h:30</a></div></div>
<div class="ttc" id="structBootSymbol_html_af4fcc5feb35d57d3fa09d7a0f230d353"><div class="ttname"><a href="structBootSymbol.html#af4fcc5feb35d57d3fa09d7a0f230d353">BootSymbol::name</a></div><div class="ttdeci">char name[BOOTIMAGE_NAMELEN]</div><div class="ttdoc">Name of the boot symbol. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00086">BootImage.h:86</a></div></div>
<div class="ttc" id="group__libstd_html_ga435175024ad996b2a45d734fa9eea0e3"><div class="ttname"><a href="group__libstd.html#ga435175024ad996b2a45d734fa9eea0e3">ERROR</a></div><div class="ttdeci">#define ERROR(msg)</div><div class="ttdoc">Output an error message. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00058">Log.h:58</a></div></div>
<div class="ttc" id="SplitAllocator_8h_html"><div class="ttname"><a href="SplitAllocator_8h.html">SplitAllocator.h</a></div></div>
<div class="ttc" id="classAllocator_html_a61a9ebd69725ae45e57223a4fdf5b680"><div class="ttname"><a href="classAllocator.html#a61a9ebd69725ae45e57223a4fdf5b680">Allocator::setDefault</a></div><div class="ttdeci">static void setDefault(Allocator *alloc)</div><div class="ttdoc">Makes the given Allocator the default. </div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8cpp_source.html#l00045">Allocator.cpp:45</a></div></div>
<div class="ttc" id="structBootSegment_html_a119582f8d7b3502e8b82429781ba4191"><div class="ttname"><a href="structBootSegment.html#a119582f8d7b3502e8b82429781ba4191">BootSegment::size</a></div><div class="ttdeci">u32 size</div><div class="ttdoc">Total size of the segment. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00114">BootImage.h:114</a></div></div>
<div class="ttc" id="structCoreInfo_html_a6f4e2740e2f160dbcd3f718bb3be260d"><div class="ttname"><a href="structCoreInfo.html#a6f4e2740e2f160dbcd3f718bb3be260d">CoreInfo::bootImageAddress</a></div><div class="ttdeci">Address bootImageAddress</div><div class="ttdoc">Boot image physical memory address. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00081">CoreInfo.h:81</a></div></div>
<div class="ttc" id="classKernel_html_af5b499fd5af02cfa6dafd4509ef8277d"><div class="ttname"><a href="classKernel.html#af5b499fd5af02cfa6dafd4509ef8277d">Kernel::loadBootImage</a></div><div class="ttdeci">virtual Result loadBootImage()</div><div class="ttdoc">Loads the boot image. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00173">Kernel.cpp:173</a></div></div>
<div class="ttc" id="classProcessManager_html_a47889fb808a5bc327456a46e07e28aff"><div class="ttname"><a href="classProcessManager.html#a47889fb808a5bc327456a46e07e28aff">ProcessManager::getScheduler</a></div><div class="ttdeci">Scheduler * getScheduler()</div><div class="ttdoc">Get scheduler object. </div><div class="ttdef"><b>Definition:</b> <a href="ProcessManager_8cpp_source.html#l00036">ProcessManager.cpp:36</a></div></div>
<div class="ttc" id="Log_8h_html"><div class="ttname"><a href="Log_8h.html">Log.h</a></div></div>
<div class="ttc" id="structMemory_1_1Range_html_a19236f2534b55a165e2bea1fe47a4ca0"><div class="ttname"><a href="structMemory_1_1Range.html#a19236f2534b55a165e2bea1fe47a4ca0">Memory::Range::size</a></div><div class="ttdeci">Size size</div><div class="ttdoc">Size in number of bytes. </div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00058">Memory.h:58</a></div></div>
<div class="ttc" id="namespaceMemory_html_a92ed33dca904b519794c7b8a32566c9fa13293028080d38402777a92a5d651977"><div class="ttname"><a href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa13293028080d38402777a92a5d651977">Memory::Executable</a></div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00042">Memory.h:42</a></div></div>
<div class="ttc" id="classKernel_html_a3d368ea28512ffeaedb99a6456e76b4c"><div class="ttname"><a href="classKernel.html#a3d368ea28512ffeaedb99a6456e76b4c">Kernel::m_alloc</a></div><div class="ttdeci">SplitAllocator * m_alloc</div><div class="ttdoc">Physical memory allocator. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00211">Kernel.h:211</a></div></div>
<div class="ttc" id="classKernel_html_af603bcb99695ae7fcf8f08a85331d5b7"><div class="ttname"><a href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7">Kernel::Result</a></div><div class="ttdeci">Result</div><div class="ttdoc">Result codes. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00094">Kernel.h:94</a></div></div>
<div class="ttc" id="structMemory_1_1Range_html_afe4dfe07d2deefc428fca77749b3e60e"><div class="ttname"><a href="structMemory_1_1Range.html#afe4dfe07d2deefc428fca77749b3e60e">Memory::Range::access</a></div><div class="ttdeci">Access access</div><div class="ttdoc">Page access flags. </div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00059">Memory.h:59</a></div></div>
<div class="ttc" id="classScheduler_html_ab3658ccd83cc5a90835bc65fc3244e3e"><div class="ttname"><a href="classScheduler.html#ab3658ccd83cc5a90835bc65fc3244e3e">Scheduler::setTimer</a></div><div class="ttdeci">void setTimer(Timer *timer)</div><div class="ttdoc">Set timer to use. </div><div class="ttdef"><b>Definition:</b> <a href="Scheduler_8cpp_source.html#l00029">Scheduler.cpp:29</a></div></div>
<div class="ttc" id="classKernel_html_a90b12218b75011bc6b22d345d9f2a34b"><div class="ttname"><a href="classKernel.html#a90b12218b75011bc6b22d345d9f2a34b">Kernel::run</a></div><div class="ttdeci">int run()</div><div class="ttdoc">Execute the kernel. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00253">Kernel.cpp:253</a></div></div>
<div class="ttc" id="classMemoryBlock_html_a63ed3a49d4476f324652d874718e6760"><div class="ttname"><a href="classMemoryBlock.html#a63ed3a49d4476f324652d874718e6760">MemoryBlock::set</a></div><div class="ttdeci">static void * set(void *dest, int ch, unsigned count)</div><div class="ttdoc">Fill memory with a constant byte. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryBlock_8cpp_source.html#l00021">MemoryBlock.cpp:21</a></div></div>
<div class="ttc" id="classAllocator_html_adb8b5faa382b82689b08f74ce1edb7e3"><div class="ttname"><a href="classAllocator.html#adb8b5faa382b82689b08f74ce1edb7e3">Allocator::setParent</a></div><div class="ttdeci">void setParent(Allocator *parent)</div><div class="ttdoc">Set parent allocator. </div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8cpp_source.html#l00035">Allocator.cpp:35</a></div></div>
<div class="ttc" id="classKernel_html_af603bcb99695ae7fcf8f08a85331d5b7a984e82ec9f9e9099fcdcf72a99819c35"><div class="ttname"><a href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7a984e82ec9f9e9099fcdcf72a99819c35">Kernel::Success</a></div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00096">Kernel.h:96</a></div></div>
<div class="ttc" id="classIntController_html_af38bce3abca853e6ff728bbd3fc17b68"><div class="ttname"><a href="classIntController.html#af38bce3abca853e6ff728bbd3fc17b68">IntController::enable</a></div><div class="ttdeci">virtual Result enable(uint irq)=0</div><div class="ttdoc">Enable hardware interrupt (IRQ). </div></div>
<div class="ttc" id="classARMMap_html"><div class="ttname"><a href="classARMMap.html">ARMMap</a></div><div class="ttdoc">Memory mapping for the kernel and user processes on the ARM architecture. </div><div class="ttdef"><b>Definition:</b> <a href="ARMMap_8h_source.html#l00037">ARMMap.h:37</a></div></div>
<div class="ttc" id="classAPI_html"><div class="ttname"><a href="classAPI.html">API</a></div><div class="ttdoc">Generic Kernel API implementation. </div><div class="ttdef"><b>Definition:</b> <a href="API_8h_source.html#l00037">API.h:37</a></div></div>
<div class="ttc" id="classMemoryMap_html_ae4936d78ee8d255b231cd2114f434756"><div class="ttname"><a href="classMemoryMap.html#ae4936d78ee8d255b231cd2114f434756">MemoryMap::range</a></div><div class="ttdeci">Memory::Range range(Region region) const</div><div class="ttdoc">Get memory range for the given region. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryMap_8cpp_source.html#l00036">MemoryMap.cpp:36</a></div></div>
<div class="ttc" id="group__libstd_html_gab5b5a106fd7981d8a25dce99b700ee5c"><div class="ttname"><a href="group__libstd.html#gab5b5a106fd7981d8a25dce99b700ee5c">Size</a></div><div class="ttdeci">unsigned int Size</div><div class="ttdoc">Any sane size indicator cannot go negative. </div><div class="ttdef"><b>Definition:</b> <a href="Types_8h_source.html#l00128">Types.h:128</a></div></div>
<div class="ttc" id="classSplitAllocator_html_ac26bd64d1997696dfd29d9c9d8deada4"><div class="ttname"><a href="classSplitAllocator.html#ac26bd64d1997696dfd29d9c9d8deada4">SplitAllocator::toVirtual</a></div><div class="ttdeci">void * toVirtual(Address phys) const</div><div class="ttdoc">Convert the given physical address to lower virtual accessible address. </div><div class="ttdef"><b>Definition:</b> <a href="SplitAllocator_8cpp_source.html#l00077">SplitAllocator.cpp:77</a></div></div>
<div class="ttc" id="classProcessManager_html_af9d82c4029f1ce9e0b82f5e88ee4ad8d"><div class="ttname"><a href="classProcessManager.html#af9d82c4029f1ce9e0b82f5e88ee4ad8d">ProcessManager::current</a></div><div class="ttdeci">Process * current()</div><div class="ttdoc">Current process running. </div><div class="ttdef"><b>Definition:</b> <a href="ProcessManager_8cpp_source.html#l00125">ProcessManager.cpp:125</a></div></div>
<div class="ttc" id="classKernel_html_a62405a9c7e735fd951aea24c7e4ce29c"><div class="ttname"><a href="classKernel.html#a62405a9c7e735fd951aea24c7e4ce29c">Kernel::executeIntVector</a></div><div class="ttdeci">virtual void executeIntVector(u32 vec, CPUState *state)</div><div class="ttdoc">Execute an interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00152">Kernel.cpp:152</a></div></div>
<div class="ttc" id="structBootImage_html_a970a5387a8172d15157c1d0e1674a079"><div class="ttname"><a href="structBootImage.html#a970a5387a8172d15157c1d0e1674a079">BootImage::symbolTableOffset</a></div><div class="ttdeci">u32 symbolTableOffset</div><div class="ttdoc">Offset of the symbol table. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00056">BootImage.h:56</a></div></div>
<div class="ttc" id="structCoreInfo_html_a579636f38b14eb62e18ed93a44a616e0"><div class="ttname"><a href="structCoreInfo.html#a579636f38b14eb62e18ed93a44a616e0">CoreInfo::coreChannelSize</a></div><div class="ttdeci">Size coreChannelSize</div><div class="ttdoc">Size of the IPC channel in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00090">CoreInfo.h:90</a></div></div>
<div class="ttc" id="CoreInfo_8h_html"><div class="ttname"><a href="CoreInfo_8h.html">CoreInfo.h</a></div></div>
<div class="ttc" id="classKernel_html_af603bcb99695ae7fcf8f08a85331d5b7a837f0a8f88cd738379c266a39acefae4"><div class="ttname"><a href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7a837f0a8f88cd738379c266a39acefae4">Kernel::ProcessError</a></div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00098">Kernel.h:98</a></div></div>
<div class="ttc" id="namespaceMemory_html_a92ed33dca904b519794c7b8a32566c9fa5030c23c172ad421d1f2a15f6d3d3d10"><div class="ttname"><a href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa5030c23c172ad421d1f2a15f6d3d3d10">Memory::Readable</a></div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00040">Memory.h:40</a></div></div>
<div class="ttc" id="classList_html"><div class="ttname"><a href="classList.html">List</a></div><div class="ttdoc">Simple linked list template class. </div><div class="ttdef"><b>Definition:</b> <a href="List_8h_source.html#l00036">List.h:36</a></div></div>
<div class="ttc" id="classBubbleAllocator_html"><div class="ttname"><a href="classBubbleAllocator.html">BubbleAllocator</a></div><div class="ttdoc">Keeps growing allocated memory, and can&amp;#39;t actually free memory (hence the name). </div><div class="ttdef"><b>Definition:</b> <a href="BubbleAllocator_8h_source.html#l00035">BubbleAllocator.h:35</a></div></div>
<div class="ttc" id="classIntController_html_a4b6f8810ed57e31ab1b3dc823f6ca5cd"><div class="ttname"><a href="classIntController.html#a4b6f8810ed57e31ab1b3dc823f6ca5cd">IntController::disable</a></div><div class="ttdeci">virtual Result disable(uint irq)=0</div><div class="ttdoc">Disable hardware interrupt (IRQ). </div></div>
<div class="ttc" id="classListIterator_html"><div class="ttname"><a href="classListIterator.html">ListIterator</a></div><div class="ttdoc">Iterate through a List. </div><div class="ttdef"><b>Definition:</b> <a href="ListIterator_8h_source.html#l00037">ListIterator.h:37</a></div></div>
<div class="ttc" id="classMemoryContext_html_a314f86fc54c4ee24f1d785e3b9eda0fe"><div class="ttname"><a href="classMemoryContext.html#a314f86fc54c4ee24f1d785e3b9eda0fe">MemoryContext::mapRange</a></div><div class="ttdeci">virtual Result mapRange(Memory::Range *range)</div><div class="ttdoc">Map a range of physical pages to virtual addresses. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryContext_8cpp_source.html#l00039">MemoryContext.cpp:39</a></div></div>
<div class="ttc" id="group__kernel_html_gaed0515392750015eaafdc984bb0a8917"><div class="ttname"><a href="group__kernel.html#gaed0515392750015eaafdc984bb0a8917">InterruptHook</a></div><div class="ttdeci">struct InterruptHook InterruptHook</div><div class="ttdoc">Interrupt hook class. </div></div>
<div class="ttc" id="structBootImage_html_a19657d28c2d2a121ea7a27edb0fb899c"><div class="ttname"><a href="structBootImage.html#a19657d28c2d2a121ea7a27edb0fb899c">BootImage::symbolTableCount</a></div><div class="ttdeci">u16 symbolTableCount</div><div class="ttdoc">Number of entries in the symbols table. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00059">BootImage.h:59</a></div></div>
<div class="ttc" id="group__kernel_html_ga8cbb2407800cf58266ca752e666d8fb3"><div class="ttname"><a href="group__kernel.html#ga8cbb2407800cf58266ca752e666d8fb3">InterruptHandler</a></div><div class="ttdeci">void InterruptHandler(struct CPUState *state, ulong param)</div><div class="ttdoc">Function which is called when the CPU is interrupted. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00048">Kernel.h:48</a></div></div>
<div class="ttc" id="classKernel_html_aa6a6fcae1a415d0cecae4520d3af7ac3"><div class="ttname"><a href="classKernel.html#aa6a6fcae1a415d0cecae4520d3af7ac3">Kernel::getProcessManager</a></div><div class="ttdeci">ProcessManager * getProcessManager()</div><div class="ttdoc">Get process manager. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00100">Kernel.cpp:100</a></div></div>
<div class="ttc" id="classSplitAllocator_html_ae6660e84ec88e5cc88910fed6957f1f9"><div class="ttname"><a href="classSplitAllocator.html#ae6660e84ec88e5cc88910fed6957f1f9">SplitAllocator::allocate</a></div><div class="ttdeci">virtual Result allocate(Size *size, Address *addr, Size align=ZERO)</div><div class="ttdoc">Allocate memory. </div><div class="ttdef"><b>Definition:</b> <a href="SplitAllocator_8cpp_source.html#l00047">SplitAllocator.cpp:47</a></div></div>
<div class="ttc" id="classKernel_html_a853470e9f8f8824792e80e2278277be9"><div class="ttname"><a href="classKernel.html#a853470e9f8f8824792e80e2278277be9">Kernel::m_procs</a></div><div class="ttdeci">ProcessManager * m_procs</div><div class="ttdoc">Process Manager. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00214">Kernel.h:214</a></div></div>
<div class="ttc" id="structBootSymbol_html_a8af22d1f6d548131fb7243a285b32f07"><div class="ttname"><a href="structBootSymbol.html#a8af22d1f6d548131fb7243a285b32f07">BootSymbol::segmentsCount</a></div><div class="ttdeci">u16 segmentsCount</div><div class="ttdoc">Number of contiguous entries in the segment table. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00098">BootImage.h:98</a></div></div>
<div class="ttc" id="classKernel_html_a0531d8a3674f2c7e189ef7d68b4ddbaf"><div class="ttname"><a href="classKernel.html#a0531d8a3674f2c7e189ef7d68b4ddbaf">Kernel::m_coreInfo</a></div><div class="ttdeci">CoreInfo * m_coreInfo</div><div class="ttdoc">CoreInfo object for this core. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00220">Kernel.h:220</a></div></div>
<div class="ttc" id="namespaceMemory_html_a92ed33dca904b519794c7b8a32566c9faf3346d7304bee3642a259b61e3a9c803"><div class="ttname"><a href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9faf3346d7304bee3642a259b61e3a9c803">Memory::Writable</a></div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00041">Memory.h:41</a></div></div>
<div class="ttc" id="classKernel_html_a623b3d0e5c29fc9cdc33cf58f3c1cf32"><div class="ttname"><a href="classKernel.html#a623b3d0e5c29fc9cdc33cf58f3c1cf32">Kernel::hookIntVector</a></div><div class="ttdeci">virtual void hookIntVector(u32 vec, InterruptHandler h, ulong p)</div><div class="ttdoc">Hooks a function to an hardware interrupt. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00136">Kernel.cpp:136</a></div></div>
<div class="ttc" id="structCPUState_html"><div class="ttname"><a href="structCPUState.html">CPUState</a></div><div class="ttdoc">Contains all the CPU registers. </div><div class="ttdef"><b>Definition:</b> <a href="ARMCore_8h_source.html#l00215">ARMCore.h:215</a></div></div>
<div class="ttc" id="classPoolAllocator_html"><div class="ttname"><a href="classPoolAllocator.html">PoolAllocator</a></div><div class="ttdoc">Memory allocator which uses pools. </div><div class="ttdef"><b>Definition:</b> <a href="PoolAllocator_8h_source.html#l00139">PoolAllocator.h:139</a></div></div>
<div class="ttc" id="structCoreInfo_html"><div class="ttname"><a href="structCoreInfo.html">CoreInfo</a></div><div class="ttdoc">Per-Core information structure. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00060">CoreInfo.h:60</a></div></div>
<div class="ttc" id="classKernel_html_a08977b2db778fd684fc7b74383552ed8"><div class="ttname"><a href="classKernel.html#a08977b2db778fd684fc7b74383552ed8">Kernel::Kernel</a></div><div class="ttdeci">Kernel(CoreInfo *info)</div><div class="ttdoc">Constructor function. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00033">Kernel.cpp:33</a></div></div>
<div class="ttc" id="classProcess_html_a29199d5fd3060da8da03649f06127847a8743d0b3330411414ec8e44e79a845e8"><div class="ttname"><a href="classProcess.html#a29199d5fd3060da8da03649f06127847a8743d0b3330411414ec8e44e79a845e8">Process::Ready</a></div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00058">Process.h:58</a></div></div>
<div class="ttc" id="structBootImage_html_aeccbe9aba1be5f7ffbe3451573fe3018"><div class="ttname"><a href="structBootImage.html#aeccbe9aba1be5f7ffbe3451573fe3018">BootImage::layoutRevision</a></div><div class="ttdeci">u8 layoutRevision</div><div class="ttdoc">Version of the boot image layout. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00050">BootImage.h:50</a></div></div>
<div class="ttc" id="group__terminal_html_ga46c1fb0f4185dc45eda625530bc0fd73"><div class="ttname"><a href="group__terminal.html#ga46c1fb0f4185dc45eda625530bc0fd73">BANNER</a></div><div class="ttdeci">#define BANNER</div><div class="ttdoc">Print this banner per default on new Terminals. </div><div class="ttdef"><b>Definition:</b> <a href="Terminal_8h_source.html#l00038">Terminal.h:38</a></div></div>
<div class="ttc" id="classListIterator_html_a6750d850524a46222fff4d24d1479f4c"><div class="ttname"><a href="classListIterator.html#a6750d850524a46222fff4d24d1479f4c">ListIterator::hasCurrent</a></div><div class="ttdeci">virtual bool hasCurrent() const</div><div class="ttdoc">Check if there is a current item on the List. </div><div class="ttdef"><b>Definition:</b> <a href="ListIterator_8h_source.html#l00108">ListIterator.h:108</a></div></div>
<div class="ttc" id="classVector_html_ab799ad03fc3659650ae44574b7e37885"><div class="ttname"><a href="classVector.html#ab799ad03fc3659650ae44574b7e37885">Vector::insert</a></div><div class="ttdeci">virtual int insert(const T &amp;item)</div><div class="ttdoc">Adds the given item to the Vector, if possible. </div><div class="ttdef"><b>Definition:</b> <a href="Vector_8h_source.html#l00093">Vector.h:93</a></div></div>
<div class="ttc" id="structMemory_1_1Range_html"><div class="ttname"><a href="structMemory_1_1Range.html">Memory::Range</a></div><div class="ttdoc">Memory range. </div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00054">Memory.h:54</a></div></div>
<div class="ttc" id="group__libstd_html_gac328e551bde3d39b6d7b8cc9e048d941"><div class="ttname"><a href="group__libstd.html#gac328e551bde3d39b6d7b8cc9e048d941">ZERO</a></div><div class="ttdeci">#define ZERO</div><div class="ttdoc">Zero value. </div><div class="ttdef"><b>Definition:</b> <a href="Macros_8h_source.html#l00043">Macros.h:43</a></div></div>
<div class="ttc" id="Process_8h_html"><div class="ttname"><a href="Process_8h.html">Process.h</a></div></div>
<div class="ttc" id="classProcess_html_a95edf75b28fd5f0dd6468695fbc704e1"><div class="ttname"><a href="classProcess.html#a95edf75b28fd5f0dd6468695fbc704e1">Process::getMemoryContext</a></div><div class="ttdeci">MemoryContext * getMemoryContext()</div><div class="ttdoc">Get MMU memory context. </div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00105">Process.cpp:105</a></div></div>
<div class="ttc" id="classKernel_html_aa3e77cb22b74ec2ea462553f76394e29"><div class="ttname"><a href="classKernel.html#aa3e77cb22b74ec2ea462553f76394e29">Kernel::loadBootProcess</a></div><div class="ttdeci">virtual Result loadBootProcess(BootImage *image, Address imagePAddr, Size index)</div><div class="ttdoc">Load a boot program. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00195">Kernel.cpp:195</a></div></div>
<div class="ttc" id="classProcess_html_a9ec902ec6a2f5ce894538d0fd0436c3f"><div class="ttname"><a href="classProcess.html#a9ec902ec6a2f5ce894538d0fd0436c3f">Process::setState</a></div><div class="ttdeci">void setState(State st)</div><div class="ttdoc">Puts the Process in a new state. </div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00115">Process.cpp:115</a></div></div>
<div class="ttc" id="structBootImage_html_a7988a461e4b76359789c34e237896b40"><div class="ttname"><a href="structBootImage.html#a7988a461e4b76359789c34e237896b40">BootImage::segmentsTableOffset</a></div><div class="ttdeci">u32 segmentsTableOffset</div><div class="ttdoc">Offset of the segments table. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00062">BootImage.h:62</a></div></div>
<div class="ttc" id="classKernel_html_a78150ddbf611c5315beffade433d97f5"><div class="ttname"><a href="classKernel.html#a78150ddbf611c5315beffade433d97f5">Kernel::enableIRQ</a></div><div class="ttdeci">void enableIRQ(u32 irq, bool enabled)</div><div class="ttdoc">Enable or disable an hardware interrupt (IRQ). </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00125">Kernel.cpp:125</a></div></div>
<div class="ttc" id="classKernel_html"><div class="ttname"><a href="classKernel.html">Kernel</a></div><div class="ttdoc">FreeNOS kernel implementation. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00087">Kernel.h:87</a></div></div>
<div class="ttc" id="group__libstd_html_ga10e94b422ef0c20dcdec20d31a1f5049"><div class="ttname"><a href="group__libstd.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a></div><div class="ttdeci">unsigned int u32</div><div class="ttdoc">Unsigned 32-bit number. </div><div class="ttdef"><b>Definition:</b> <a href="Types_8h_source.html#l00053">Types.h:53</a></div></div>
<div class="ttc" id="classSingleton_html"><div class="ttname"><a href="classSingleton.html">Singleton</a></div><div class="ttdoc">Singleton design pattern; only one instance is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00032">Singleton.h:32</a></div></div>
<div class="ttc" id="classKernel_html_a237657efb26f12a29bbf61d9a979bc45"><div class="ttname"><a href="classKernel.html#a237657efb26f12a29bbf61d9a979bc45">Kernel::getAllocator</a></div><div class="ttdeci">SplitAllocator * getAllocator()</div><div class="ttdoc">Get physical memory allocator. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00095">Kernel.cpp:95</a></div></div>
<div class="ttc" id="classMemoryContext_html_a7b1ac5af46e2d63afea258bf28c55115"><div class="ttname"><a href="classMemoryContext.html#a7b1ac5af46e2d63afea258bf28c55115">MemoryContext::map</a></div><div class="ttdeci">virtual Result map(Address virt, Address phys, Memory::Access access)=0</div><div class="ttdoc">Map a physical page to a virtual address. </div></div>
<div class="ttc" id="classMemoryMap_html_a04c4d394a44ab31533f6dcd617655dcaa307b84d1752e92fb20d9929e8ecb013e"><div class="ttname"><a href="classMemoryMap.html#a04c4d394a44ab31533f6dcd617655dcaa307b84d1752e92fb20d9929e8ecb013e">MemoryMap::UserArgs</a></div><div class="ttdoc">&lt; Used for copying program arguments and file descriptors </div><div class="ttdef"><b>Definition:</b> <a href="MemoryMap_8h_source.html#l00059">MemoryMap.h:59</a></div></div>
<div class="ttc" id="classProcess_html"><div class="ttname"><a href="classProcess.html">Process</a></div><div class="ttdoc">Represents a process which may run on the host. </div><div class="ttdef"><b>Definition:</b> <a href="Process_8h_source.html#l00043">Process.h:43</a></div></div>
<div class="ttc" id="structCoreInfo_html_a255a367958a7401d2b88551a568d656b"><div class="ttname"><a href="structCoreInfo.html#a255a367958a7401d2b88551a568d656b">CoreInfo::bootImageSize</a></div><div class="ttdeci">Address bootImageSize</div><div class="ttdoc">Boot image size in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00084">CoreInfo.h:84</a></div></div>
<div class="ttc" id="group__libarch_html_ggaef611f2404cc464b0d28d631339723aca6e0c9de8acc781f995b07e95da23c64c"><div class="ttname"><a href="group__libarch.html#ggaef611f2404cc464b0d28d631339723aca6e0c9de8acc781f995b07e95da23c64c">BootProgram</a></div><div class="ttdoc">Executable program. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00074">BootImage.h:74</a></div></div>
<div class="ttc" id="classSplitAllocator_html_ac854862ab9204ba2994aca7e1ebf163d"><div class="ttname"><a href="classSplitAllocator.html#ac854862ab9204ba2994aca7e1ebf163d">SplitAllocator::allocateLow</a></div><div class="ttdeci">virtual Result allocateLow(Size size, Address *addr, Size align=ZERO)</div><div class="ttdoc">Allocate from lower memory. </div><div class="ttdef"><b>Definition:</b> <a href="SplitAllocator_8cpp_source.html#l00062">SplitAllocator.cpp:62</a></div></div>
<div class="ttc" id="group__libstd_html_ga7a3e1d362790a375466c5e77a6d5c9c5"><div class="ttname"><a href="group__libstd.html#ga7a3e1d362790a375466c5e77a6d5c9c5">FATAL</a></div><div class="ttdeci">#define FATAL(msg)</div><div class="ttdoc">Output a critical message and terminate program immediatly. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00051">Log.h:51</a></div></div>
<div class="ttc" id="structMemory_1_1Range_html_a66d9e1d60d6fb021a934f9e1471074a3"><div class="ttname"><a href="structMemory_1_1Range.html#a66d9e1d60d6fb021a934f9e1471074a3">Memory::Range::phys</a></div><div class="ttdeci">Address phys</div><div class="ttdoc">Physical address. </div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00057">Memory.h:57</a></div></div>
<div class="ttc" id="structCoreInfo_html_a9fa28289b38010e1f0e26f5af7d4c336"><div class="ttname"><a href="structCoreInfo.html#a9fa28289b38010e1f0e26f5af7d4c336">CoreInfo::heapAddress</a></div><div class="ttdeci">Address heapAddress</div><div class="ttdoc">Physical memory address of the kernel heap. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00093">CoreInfo.h:93</a></div></div>
<div class="ttc" id="group__libarch_html_gaa3ada043554743ff0fb5435f17549ec0"><div class="ttname"><a href="group__libarch.html#gaa3ada043554743ff0fb5435f17549ec0">BOOTIMAGE_MAGIC1</a></div><div class="ttdeci">#define BOOTIMAGE_MAGIC1</div><div class="ttdoc">Second magic byte. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00033">BootImage.h:33</a></div></div>
<div class="ttc" id="classProcessManager_html_a9ec8ab3db50af16139ac564462fd8113"><div class="ttname"><a href="classProcessManager.html#a9ec8ab3db50af16139ac564462fd8113">ProcessManager::schedule</a></div><div class="ttdeci">Process * schedule(Process *proc=ZERO)</div><div class="ttdoc">Schedule next process to run. </div><div class="ttdef"><b>Definition:</b> <a href="ProcessManager_8cpp_source.html#l00092">ProcessManager.cpp:92</a></div></div>
<div class="ttc" id="classTimer_html"><div class="ttname"><a href="classTimer.html">Timer</a></div><div class="ttdoc">Represents a configurable timer device. </div><div class="ttdef"><b>Definition:</b> <a href="Timer_8h_source.html#l00035">Timer.h:35</a></div></div>
<div class="ttc" id="structBootImage_html_a0614ef5d4e0520e3665e3ed4ea20a199"><div class="ttname"><a href="structBootImage.html#a0614ef5d4e0520e3665e3ed4ea20a199">BootImage::magic</a></div><div class="ttdeci">u32 magic[2]</div><div class="ttdoc">Magic numbers to detect a valid boot image. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00047">BootImage.h:47</a></div></div>
<div class="ttc" id="classProcessManager_html_a0ef7841c21b18edd2e557ed728b9ff14"><div class="ttname"><a href="classProcessManager.html#a0ef7841c21b18edd2e557ed728b9ff14">ProcessManager::create</a></div><div class="ttdeci">Process * create(Address entry, const MemoryMap &amp;map)</div><div class="ttdoc">Create and add a new Process. </div><div class="ttdef"><b>Definition:</b> <a href="ProcessManager_8cpp_source.html#l00041">ProcessManager.cpp:41</a></div></div>
<div class="ttc" id="BubbleAllocator_8h_html"><div class="ttname"><a href="BubbleAllocator_8h.html">BubbleAllocator.h</a></div></div>
<div class="ttc" id="classSequence_html_a64cef21d0f993c945f68033e21723de1"><div class="ttname"><a href="classSequence.html#a64cef21d0f993c945f68033e21723de1">Sequence::fill</a></div><div class="ttdeci">virtual void fill(T value)</div><div class="ttdoc">Fill the Sequence with the given value. </div><div class="ttdef"><b>Definition:</b> <a href="Sequence_8h_source.html#l00073">Sequence.h:73</a></div></div>
<div class="ttc" id="Scheduler_8h_html"><div class="ttname"><a href="Scheduler_8h.html">Scheduler.h</a></div></div>
<div class="ttc" id="group__libarch__arm_html_ga519adc2af3ba06a8f0548b6690050a89"><div class="ttname"><a href="group__libarch__arm.html#ga519adc2af3ba06a8f0548b6690050a89">PAGESIZE</a></div><div class="ttdeci">#define PAGESIZE</div><div class="ttdoc">ARM uses 4K pages. </div><div class="ttdef"><b>Definition:</b> <a href="ARMConstant_8h_source.html#l00100">ARMConstant.h:100</a></div></div>
<div class="ttc" id="classSplitAllocator_html"><div class="ttname"><a href="classSplitAllocator.html">SplitAllocator</a></div><div class="ttdoc">Allocator which separates kernel mapped low-memory and higher memory. </div><div class="ttdef"><b>Definition:</b> <a href="SplitAllocator_8h_source.html#l00036">SplitAllocator.h:36</a></div></div>
<div class="ttc" id="classProcessManager_html"><div class="ttname"><a href="classProcessManager.html">ProcessManager</a></div><div class="ttdoc">Represents a process which may run on the host. </div><div class="ttdef"><b>Definition:</b> <a href="ProcessManager_8h_source.html#l00037">ProcessManager.h:37</a></div></div>
<div class="ttc" id="ProcessManager_8h_html"><div class="ttname"><a href="ProcessManager_8h.html">ProcessManager.h</a></div></div>
<div class="ttc" id="IntController_8h_html"><div class="ttname"><a href="IntController_8h.html">IntController.h</a></div></div>
<div class="ttc" id="structBootSymbol_html"><div class="ttname"><a href="structBootSymbol.html">BootSymbol</a></div><div class="ttdoc">Program embedded in the BootImage. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00083">BootImage.h:83</a></div></div>
<div class="ttc" id="classKernel_html_ad6d673e62a5c32e4c5723f4ba6604131"><div class="ttname"><a href="classKernel.html#ad6d673e62a5c32e4c5723f4ba6604131">Kernel::heap</a></div><div class="ttdeci">static Error heap(Address base, Size size)</div><div class="ttdoc">Initialize heap. </div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8cpp_source.html#l00077">Kernel.cpp:77</a></div></div>
<div class="ttc" id="classKernel_html_af603bcb99695ae7fcf8f08a85331d5b7aa3bebb128f0a95696534cec14de793ab"><div class="ttname"><a href="classKernel.html#af603bcb99695ae7fcf8f08a85331d5b7aa3bebb128f0a95696534cec14de793ab">Kernel::InvalidBootImage</a></div><div class="ttdef"><b>Definition:</b> <a href="Kernel_8h_source.html#l00097">Kernel.h:97</a></div></div>
<div class="ttc" id="structBootImage_html"><div class="ttname"><a href="structBootImage.html">BootImage</a></div><div class="ttdoc">BootImage contains executable programs to be loaded at system bootup. </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00044">BootImage.h:44</a></div></div>
<div class="ttc" id="group__libstd_html_ga718b4eb2652c286f4d42dc18a8e71a1a"><div class="ttname"><a href="group__libstd.html#ga718b4eb2652c286f4d42dc18a8e71a1a">ulong</a></div><div class="ttdeci">unsigned long ulong</div><div class="ttdoc">Unsigned long number. </div><div class="ttdef"><b>Definition:</b> <a href="Types_8h_source.html#l00047">Types.h:47</a></div></div>
<div class="ttc" id="structBootSymbol_html_ac7ebcb45a229acfbc9adedef90f1061e"><div class="ttname"><a href="structBootSymbol.html#ac7ebcb45a229acfbc9adedef90f1061e">BootSymbol::entry</a></div><div class="ttdeci">u32 entry</div><div class="ttdoc">Program entry point (only valid for BootProgram symbols). </div><div class="ttdef"><b>Definition:</b> <a href="BootImage_8h_source.html#l00092">BootImage.h:92</a></div></div>
<div class="ttc" id="structCoreInfo_html_a785d7a727ea7be35204110a1982aa939"><div class="ttname"><a href="structCoreInfo.html#a785d7a727ea7be35204110a1982aa939">CoreInfo::memory</a></div><div class="ttdeci">Memory::Range memory</div><div class="ttdoc">Defines the physical memory available to the core. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00069">CoreInfo.h:69</a></div></div>
<div class="ttc" id="namespaceMemory_html_a92ed33dca904b519794c7b8a32566c9fa46a4cecf036ff38ce2c054b9c5f9f892"><div class="ttname"><a href="namespaceMemory.html#a92ed33dca904b519794c7b8a32566c9fa46a4cecf036ff38ce2c054b9c5f9f892">Memory::User</a></div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00043">Memory.h:43</a></div></div>
<div class="ttc" id="structCoreInfo_html_a7c05de683765210331e4b0b2874aacd4"><div class="ttname"><a href="structCoreInfo.html#a7c05de683765210331e4b0b2874aacd4">CoreInfo::heapSize</a></div><div class="ttdeci">Size heapSize</div><div class="ttdoc">Size in bytes of the kernel heap. </div><div class="ttdef"><b>Definition:</b> <a href="CoreInfo_8h_source.html#l00096">CoreInfo.h:96</a></div></div>
<div class="ttc" id="group__libstd_html_ga32561b1ad57f66e2ca93b07d45e9a9ee"><div class="ttname"><a href="group__libstd.html#ga32561b1ad57f66e2ca93b07d45e9a9ee">Error</a></div><div class="ttdeci">slong Error</div><div class="ttdoc">Error code defined in Error.h. </div><div class="ttdef"><b>Definition:</b> <a href="Types_8h_source.html#l00159">Types.h:159</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
